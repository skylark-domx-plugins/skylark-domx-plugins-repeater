/**
 * skylark-ui-repeater - The skylark repeater widget
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-ui-repeater/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-utils-dom/browser","skylark-utils-dom/eventer","skylark-utils-dom/noder","skylark-utils-dom/geom","skylark-utils-dom/query","../views","./ViewBase"],function(e,t,i,n,s,a,l,r){var c=r.inherit({klassName:"TileView",options:{alignment:"left",infiniteScroll:!1,itemRendered:null,noItemsHTML:"no items found",selectable:!1,template:'<div class="thumbnail repeater-thumbnail"><img height="75" src="{{src}}" width="65"><span>{{name}}</span></div>'},clearSelectedItems:function(){this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").removeClass("selected")},getSelectedItems:function(){var e=[];return this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){e.push(a(this))}),e},setSelectedItems:function(t,i){var n,s,l,r,c=this.options.selectable,o=this;function d(){if(r===t[n].index)return s=a(this),!1;r++}function m(){(s=a(this)).is(t[n].selector)&&u(s,t[n].selected)}function u(e,t){(t=void 0===t||t)?(i||"multi"===c||o.thumbnail_clearSelectedItems(),e.addClass("selected")):e.removeClass("selected")}for(e.isArray(t)||(t=[t]),l=!0===i||"multi"===c?t.length:c&&t.length>0?1:0,n=0;n<l;n++)void 0!==t[n].index?(s=a(),r=0,this.$canvas.find(".repeater-thumbnail-cont .selectable").each(d),s.length>0&&u(s,t[n].selected)):t[n].selector&&this.$canvas.find(".repeater-thumbnail-cont .selectable").each(m)},selected:function(){var e,t=this.options.infiniteScroll;t&&(e="object"==typeof t?t:{},this.infiniteScrolling(!0,e))},before:function(e){var t,i=this.options.alignment,n=this.$canvas.find(".repeater-thumbnail-cont"),s=e.data,l={};return n.length<1?(n=a('<div class="clearfix repeater-thumbnail-cont" data-container="true" data-infinite="true" data-preserve="shallow"></div>'),i&&"none"!==i?(i={center:1,justify:1,left:1,right:1}[i]?i:"justify",n.addClass("align-"+i),this.thumbnail_injectSpacers=!0):this.thumbnail_injectSpacers=!1,l.item=n):l.action="none",s.items&&s.items.length<1?((t=a('<div class="empty"></div>')).append(this.options.noItemsHTML),n.append(t)):n.find(".empty:first").remove(),l},renderItem:function(t){var i=this.options.selectable,n=this,s=a(function(t,i){var n=!1;function s(){var s,a,l;a=i.indexOf("{{"),s=i.indexOf("}}",a+2),a>-1&&s>-1?(l=e.trim(i.substring(a+2,s)),l=void 0!==t[l]?t[l]:"",i=i.substring(0,a)+l+i.substring(s+2)):n=!0}for(;!n&&i.search("{{")>=0;)s();return i}(t.subset[t.index],this.options.template));return s.data("item_data",t.data.items[t.index]),i&&(s.addClass("selectable"),s.on("click",function(){n.isDisabled||(s.hasClass("selected")?(s.removeClass("selected"),n.$element.trigger("deselected.fu.repeaterThumbnail",s)):("multi"!==i&&n.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){var e=a(this);e.removeClass("selected"),n.$element.trigger("deselected.fu.repeaterThumbnail",e)}),s.addClass("selected"),n.$element.trigger("selected.fu.repeaterThumbnail",s)))})),t.container.append(s),this.thumbnail_injectSpacers&&s.after('<span class="spacer">&nbsp;</span>'),this.options.itemRendered&&this.options.itemRendered({container:t.container,item:s,itemData:t.subset[t.index]},function(){}),!1}});return l.tile={name:"tile",ctor:c}});
//# sourceMappingURL=../sourcemaps/views/tile.js.map
