{"version":3,"sources":["views/ViewBase.js"],"names":["define","langx","noder","views","ViewBase","Evented","inherit","klassName","options","controlsClass","fullScreen","init","repeater","hasControls","that","this","initOptions","container","on","e","hasClass","removeClass","addClass","mixin","close","getValue","getSelectedItems"],"mappings":";;;;;;;AAAAA,QACC,sBACA,0BACA,YACC,SAASC,EAAMC,EAAMC,GAEtB,IAAIC,EAAWH,EAAMI,QAAQC,SACzBC,UAAW,WAEXC,SAEEC,cAAe,8BAElBC,YAAY,GAIdC,KAAO,SAAUC,EAASJ,GACzB,IACCK,EADGC,EAAOC,KAEXA,KAAKH,SAAWA,EAChBG,KAAKC,YAAYR,GACPO,KAAKP,QAAQE,YACfR,EAAMQ,WAAWK,KAAKE,UAAU,IAElCF,KAAKH,SAASM,GAAG,eAAe,SAASC,GACjCL,EAAKG,UAAUG,SAASN,EAAKN,QAAQC,gBACvCI,GAAc,EACdC,EAAKG,UAAUI,YAAYP,EAAKN,QAAQC,gBAExCI,GAAc,IAIpBE,KAAKH,SAASM,GAAG,eAAe,SAASC,GACjCN,GACFC,EAAKG,UAAUK,SAASR,EAAKN,QAAQC,kBAK/CO,YAAa,SAAUR,GAErBO,KAAKP,QAAUP,EAAMsB,SAAUR,KAAKP,QAAQA,IAG9CgB,MAAO,WACAtB,EAAMQ,eAAiBK,KAAKE,UAAU,IACxCf,EAAMQ,YAAW,IAIpBe,SAAW,WACV,OAAOV,KAAKW,sBAKnB,OAAOvB,EAAMC,SAAWA","file":"../../views/ViewBase.js","sourcesContent":["define([\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-utils-dom/noder\",\r\n\t\"../views\",\t\r\n],function(langx,noder,views) {\r\n\r\n\tvar ViewBase = langx.Evented.inherit({\r\n\t    klassName: \"ViewBase\",\r\n\r\n\t    options : {\r\n\t      // The class to add when the gallery controls are visible:\r\n\t      controlsClass: \"skylarkui-repeater-controls\",\r\n\t\t  // Defines if the gallery should open in fullscreen mode:\r\n\t\t  fullScreen: false\r\n\r\n\t    },\r\n\t    \r\n\t\tinit : function (repeater,options) {\r\n\t\t\tvar that = this,\r\n\t\t\t\thasControls;\r\n\t\t\tthis.repeater = repeater;\r\n\t\t\tthis.initOptions(options);\r\n\t        if (this.options.fullScreen) {\r\n\t          noder.fullScreen(this.container[0]);\r\n\t        }\r\n\t        this.repeater.on(\"item.running\",function(e){\r\n\t            if (that.container.hasClass(that.options.controlsClass)) {\r\n\t              hasControls = true\r\n\t              that.container.removeClass(that.options.controlsClass);\r\n\t            } else {\r\n\t              hasControls = false\r\n\t            }\r\n\t        });\r\n\r\n\t        this.repeater.on(\"item.running\",function(e){\r\n\t            if (hasControls) {\r\n\t              that.container.addClass(that.options.controlsClass);\r\n\t            }\r\n\t        });\r\n\t\t},\r\n\r\n\t    initOptions: function (options) {\r\n\t      // Create a copy of the prototype options:\r\n\t      this.options = langx.mixin({}, this.options,options);\r\n\t    },\r\n\r\n\t    close: function () {\r\n      \t\tif (noder.fullScreen() === this.container[0]) {\r\n        \t\tnoder.fullScreen(false);\r\n      \t\t}\r\n      \t},\r\n\r\n      \tgetValue : function() {\r\n      \t\treturn this.getSelectedItems();\r\n      \t} \r\n\r\n\t});\r\n\r\n\treturn views.ViewBase = ViewBase;\r\n});\r\n"]}