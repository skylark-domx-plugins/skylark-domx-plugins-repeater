{"version":3,"sources":["views/slider.js"],"names":["define","langx","noder","$","views","ViewBase","SliderView","inherit","klassName","options","container","slidesContainer","titleElement","displayClass","singleClass","leftEdgeClass","rightEdgeClass","playingClass","slideClass","slideLoadingClass","slideErrorClass","slideContentClass","toggleClass","prevClass","nextClass","closeClass","playPauseClass","displayTransition","clearSlides","toggleControlsOnReturn","toggleControlsOnSlideClick","toggleSlideshowOnSpace","enableKeyboardNavigation","closeOnEscape","closeOnSlideClick","closeOnSwipeUpOrDown","emulateTouchEvents","stopTouchEventsPropagation","hidePageScrollbars","disableScroll","carousel","continuous","unloadElements","startSlideshow","slideshowInterval","index","preloadRange","transitionSpeed","slideshowTransitionSpeed","undefined","event","onopen","onopened","onslide","onslideend","onslidecomplete","onclose","onclosed","indicatorContainer","activeIndicatorClass","thumbnailProperty","thumbnailIndicators","indicators","template","item","support","element","prop","touch","window","ontouchstart","DocumentTouch","document","transitions","webkitTransition","end","prefix","MozTransition","OTransition","transition","hasOwnProperty","style","name","elementTests","translateZ","body","appendChild","slice","getComputedStyle","getPropertyValue","transform","translate","backgroundSize","contain","cover","removeChild","on","createElement","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelRequestAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","render","helper","this","repeater","$canvas","find","length","append","list","data","items","num","initStartIndex","initView","initEventListeners","ontransitionend","play","slide","to","speed","clearTimeout","timeout","direction","naturalDirection","diff","circle","Math","abs","positions","slideWidth","move","animate","getIndex","getNumber","prev","next","time","that","interval","elements","setTimeout","animationFrameId","call","addClass","pause","removeClass","add","i","concat","Array","prototype","addSlide","positionSlide","initSlides","resetSlides","empty","unloadAllSlides","slides","handleClose","activeIndicator","destroyEventListeners","display","overflow","bodyOverflowStyle","close","closeHandler","target","off","dist","translateX","x","y","translateY","from","start","Date","getTime","timer","setInterval","timeElap","left","clearInterval","floor","preventDefault","returnValue","stopPropagation","cancelBubble","onresize","onmousedown","which","nodeName","originalEvent","touches","pageX","pageY","onmousemove","touchStart","ontouchmove","onmouseup","ontouchend","onmouseout","related","relatedTarget","contains","now","isScrolling","touchDelta","touchDeltaX","indices","scale","push","unshift","pop","indexForward","indexBackward","distanceForward","distanceBackward","isShortDuration","Number","isValidSlide","isPastBounds","isValidClose","slideHeight","ontouchcancel","oncomplete","srcElement","parent","parentNode","getNodeIndex","type","clientHeight","maxHeight","onload","onerror","onkeydown","keyCode","toggleControls","stopImmediatePropagation","toggleSlideshow","handleClick","isTarget","className","hasClass","onclick","updateEdgeClasses","handleSlide","loadElements","setTitle","setActiveIndicator","firstChild","text","title","alt","createTextNode","func","args","wait","apply","obj","callback","$item","_create$Item","loadElement","proxyListener","limit","min","j","unloadSlide","createIndicator","thumbnailUrl","thumbnail","indicator","indicatorPrototype","cloneNode","getItemProperty","getElementsByTagName","src","backgroundImage","addIndicator","setAttribute","slidePrototype","width","reload","children","imagePrototype","elementPrototype","clientWidth","len","controlsClass","parseInt","getAttribute","getItemUrl","handleOpen","first","console","log","openHandler","initOptions","overrided","mixin","ctor","templates","default"],"mappings":"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","file":"../../views/slider.js","sourcesContent":["/* global define, window, document, DocumentTouch */\r\n\r\ndefine([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-noder\",\r\n  \"skylark-domx-query\",\r\n  \"../views\", \r\n  \"./ViewBase\"\r\n],function (langx,noder,$,views,ViewBase) {\r\n  'use strict'\r\n\r\n  var SliderView = ViewBase.inherit({\r\n    klassName : \"SliderView\",\r\n\r\n    options: {\r\n      // The Id, element or querySelector of the repeater view:\r\n      container: null,\r\n      // The tag name, Id, element or querySelector of the slides container:\r\n      slidesContainer: 'div.slides',\r\n      // The tag name, Id, element or querySelector of the title element:\r\n      titleElement: 'h3',\r\n      // The class to add when the gallery is visible:\r\n      displayClass: 'slider-display',\r\n      // The class to add when the gallery only displays one element:\r\n      singleClass: 'slider-single',\r\n      // The class to add when the left edge has been reached:\r\n      leftEdgeClass: 'slider-left',\r\n      // The class to add when the right edge has been reached:\r\n      rightEdgeClass: 'slider-right',\r\n      // The class to add when the automatic slideshow is active:\r\n      playingClass: 'slider-playing',\r\n      // The class for all slides:\r\n      slideClass: 'slide',\r\n      // The slide class for loading elements:\r\n      slideLoadingClass: 'slide-loading',\r\n      // The slide class for elements that failed to load:\r\n      slideErrorClass: 'slide-error',\r\n      // The class for the content element loaded into each slide:\r\n      slideContentClass: 'slide-content',\r\n      // The class for the \"toggle\" control:\r\n      toggleClass: 'toggle',\r\n      // The class for the \"prev\" control:\r\n      prevClass: 'prev',\r\n      // The class for the \"next\" control:\r\n      nextClass: 'next',\r\n      // The class for the \"close\" control:\r\n      closeClass: 'close',\r\n\r\n      // The class for the \"play-pause\" toggle control:\r\n      playPauseClass: 'play-pause',\r\n      // The list object property (or data attribute) with the object type:\r\n      //--- typeProperty: 'type',\r\n      // The list object property (or data attribute) with the object title:\r\n      //--- titleProperty: 'title',\r\n      // The list object property (or data attribute) with the object alt text:\r\n      //--- altTextProperty: 'alt',\r\n      // The list object property (or data attribute) with the object URL:\r\n      //--- urlProperty: 'href',\r\n      // The list object property (or data attribute) with the object srcset URL(s):\r\n      //--- srcsetProperty: 'urlset',\r\n      // The gallery listens for transitionend events before triggering the\r\n      // opened and closed events, unless the following option is set to false:\r\n      displayTransition: true,\r\n      // Defines if the gallery slides are cleared from the gallery modal,\r\n      // or reused for the next gallery initialization:\r\n      clearSlides: true,\r\n      // Defines if images should be stretched to fill the available space,\r\n      // while maintaining their aspect ratio (will only be enabled for browsers\r\n      // supporting background-size=\"contain\", which excludes IE < 9).\r\n      // Set to \"cover\", to make images cover all available space (requires\r\n      // support for background-size=\"cover\", which excludes IE < 9):\r\n      //--- stretchImages: false,\r\n      // Toggle the controls on pressing the Return key:\r\n      toggleControlsOnReturn: true,\r\n      // Toggle the controls on slide click:\r\n      toggleControlsOnSlideClick: true,\r\n      // Toggle the automatic slideshow interval on pressing the Space key:\r\n      toggleSlideshowOnSpace: true,\r\n      // Navigate the gallery by pressing left and right on the keyboard:\r\n      enableKeyboardNavigation: true,\r\n      // Close the gallery on pressing the Esc key:\r\n      closeOnEscape: true,\r\n      // Close the gallery when clicking on an empty slide area:\r\n      closeOnSlideClick: true,\r\n      // Close the gallery by swiping up or down:\r\n      closeOnSwipeUpOrDown: true,\r\n      // Emulate touch events on mouse-pointer devices such as desktop browsers:\r\n      emulateTouchEvents: true,\r\n      // Stop touch events from bubbling up to ancestor elements of the Gallery:\r\n      stopTouchEventsPropagation: false,\r\n      // Hide the page scrollbars:\r\n      hidePageScrollbars: false,\r\n      // Stops any touches on the container from scrolling the page:\r\n      disableScroll: true,\r\n      // Carousel mode (shortcut for carousel specific options):\r\n      carousel: false,\r\n      // Allow continuous navigation, moving from last to first\r\n      // and from first to last slide:\r\n      continuous: true,\r\n      // Remove elements outside of the preload range from the DOM:\r\n      unloadElements: true,\r\n      // Start with the automatic slideshow:\r\n      startSlideshow: false,\r\n      // Delay in milliseconds between slides for the automatic slideshow:\r\n      slideshowInterval: 5000,\r\n      // The starting index as integer.\r\n      // Can also be an object of the given list,\r\n      // or an equal object with the same url property:\r\n      index: 0,\r\n      // The number of elements to load around the current index:\r\n      preloadRange: 2,\r\n      // The transition speed between slide changes in milliseconds:\r\n      transitionSpeed: 400,\r\n      // The transition speed for automatic slide changes, set to an integer\r\n      // greater 0 to override the default transition speed:\r\n      slideshowTransitionSpeed: undefined,\r\n      // The event object for which the default action will be canceled\r\n      // on Gallery initialization (e.g. the click event to open the Gallery):\r\n      event: undefined,\r\n      // Callback function executed when the Gallery is initialized.\r\n      // Is called with the gallery instance as \"this\" object:\r\n      onopen: undefined,\r\n      // Callback function executed when the Gallery has been initialized\r\n      // and the initialization transition has been completed.\r\n      // Is called with the gallery instance as \"this\" object:\r\n      onopened: undefined,\r\n      // Callback function executed on slide change.\r\n      // Is called with the gallery instance as \"this\" object and the\r\n      // current index and slide as arguments:\r\n      onslide: undefined,\r\n      // Callback function executed after the slide change transition.\r\n      // Is called with the gallery instance as \"this\" object and the\r\n      // current index and slide as arguments:\r\n      onslideend: undefined,\r\n      // Callback function executed on slide content load.\r\n      // Is called with the gallery instance as \"this\" object and the\r\n      // slide index and slide element as arguments:\r\n      onslidecomplete: undefined,\r\n      // Callback function executed when the Gallery is about to be closed.\r\n      // Is called with the gallery instance as \"this\" object:\r\n      onclose: undefined,\r\n      // Callback function executed when the Gallery has been closed\r\n      // and the closing transition has been completed.\r\n      // Is called with the gallery instance as \"this\" object:\r\n      onclosed: undefined,\r\n\r\n\r\n      // The tag name, Id, element or querySelector of the indicator container:\r\n      indicatorContainer: 'ol',\r\n      // The class for the active indicator:\r\n      activeIndicatorClass: 'active',\r\n      // The list object property (or data attribute) with the thumbnail URL,\r\n      // used as alternative to a thumbnail child element:\r\n      thumbnailProperty: 'ThumbnailImage',\r\n      // Defines if the gallery indicators should display a thumbnail:\r\n      thumbnailIndicators: true,\r\n\r\n      indicators : {\r\n            // Hide the page scrollbars:\r\n          hidePageScrollbars: false,\r\n\r\n          // The tag name, Id, element or querySelector of the indicator container:\r\n          indicatorContainer: 'ol',\r\n          // The class for the active indicator:\r\n          activeIndicatorClass: 'active',\r\n          // The list object property (or data attribute) with the thumbnail URL,\r\n          // used as alternative to a thumbnail child element:\r\n          thumbnailProperty: 'thumbnail',\r\n          // Defines if the gallery indicators should display a thumbnail:\r\n          thumbnailIndicators: true\r\n      },\r\n\r\n\r\n\r\n      \"template\" :'<div class=\"repeater-slider\">' + \r\n                  '<div class=\"slides\"></div>' +\r\n                  '<h3 class=\"title\"></h3>' +\r\n                  '<a class=\"prev\">‹</a>' +\r\n                  '<a class=\"next\">›</a>' +\r\n                  '<a class=\"play-pause\"></a>' +\r\n                  '<ol class=\"indicator\"></ol>' +\r\n                  \"</div>\",\r\n\r\n      \"item\" : {\r\n        template : '<img height=\"75\" src=\"{{ThumbnailImage}}\" width=\"65\"/>' \r\n      }\r\n    },\r\n\r\n    /*---\r\n    carouselOptions: {\r\n      hidePageScrollbars: false,\r\n      toggleControlsOnReturn: false,\r\n      toggleSlideshowOnSpace: false,\r\n      enableKeyboardNavigation: false,\r\n      closeOnEscape: false,\r\n      closeOnSlideClick: false,\r\n      closeOnSwipeUpOrDown: false,\r\n      disableScroll: false,\r\n      startSlideshow: true\r\n    },\r\n    */\r\n    \r\n    // Detect touch, transition, transform and background-size support:\r\n    support: (function (element) {\r\n      var support = {\r\n        touch:\r\n          window.ontouchstart !== undefined ||\r\n          (window.DocumentTouch && document instanceof DocumentTouch)\r\n      }\r\n      var transitions = {\r\n        webkitTransition: {\r\n          end: 'webkitTransitionEnd',\r\n          prefix: '-webkit-'\r\n        },\r\n        MozTransition: {\r\n          end: 'transitionend',\r\n          prefix: '-moz-'\r\n        },\r\n        OTransition: {\r\n          end: 'otransitionend',\r\n          prefix: '-o-'\r\n        },\r\n        transition: {\r\n          end: 'transitionend',\r\n          prefix: ''\r\n        }\r\n      }\r\n      var prop\r\n      for (prop in transitions) {\r\n        if (\r\n          transitions.hasOwnProperty(prop) &&\r\n          element.style[prop] !== undefined\r\n        ) {\r\n          support.transition = transitions[prop]\r\n          support.transition.name = prop\r\n          break\r\n        }\r\n      }\r\n      function elementTests () {\r\n        var transition = support.transition\r\n        var prop\r\n        var translateZ\r\n        document.body.appendChild(element)\r\n        if (transition) {\r\n          prop = transition.name.slice(0, -9) + 'ransform'\r\n          if (element.style[prop] !== undefined) {\r\n            element.style[prop] = 'translateZ(0)'\r\n            translateZ = window\r\n              .getComputedStyle(element)\r\n              .getPropertyValue(transition.prefix + 'transform')\r\n            support.transform = {\r\n              prefix: transition.prefix,\r\n              name: prop,\r\n              translate: true,\r\n              translateZ: !!translateZ && translateZ !== 'none'\r\n            }\r\n          }\r\n        }\r\n        if (element.style.backgroundSize !== undefined) {\r\n          support.backgroundSize = {}\r\n          element.style.backgroundSize = 'contain'\r\n          support.backgroundSize.contain =\r\n            window\r\n              .getComputedStyle(element)\r\n              .getPropertyValue('background-size') === 'contain'\r\n          element.style.backgroundSize = 'cover'\r\n          support.backgroundSize.cover =\r\n            window\r\n              .getComputedStyle(element)\r\n              .getPropertyValue('background-size') === 'cover'\r\n        }\r\n        document.body.removeChild(element)\r\n      }\r\n      if (document.body) {\r\n        elementTests()\r\n      } else {\r\n        $(document).on('DOMContentLoaded', elementTests)\r\n      }\r\n      return support\r\n      // Test element, has to be standard HTML and must not be hidden\r\n      // for the CSS3 tests using window.getComputedStyle to be applicable:\r\n    })(document.createElement('div')),\r\n\r\n    requestAnimationFrame:\r\n      window.requestAnimationFrame ||\r\n      window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame,\r\n\r\n    cancelAnimationFrame:\r\n      window.cancelAnimationFrame ||\r\n      window.webkitCancelRequestAnimationFrame ||\r\n      window.webkitCancelAnimationFrame ||\r\n      window.mozCancelAnimationFrame,\r\n\r\n    render: function (helper){\r\n      //this.overrided(repeater,options);\r\n\r\n      this.container = this.repeater.$canvas.find('.repeater-slider');\r\n\r\n      if (this.container.length < 1) {\r\n        this.container = $(this.options.template);\r\n        this.repeater.$canvas.append(this.container);\r\n      } \r\n      this.list = helper.data.items;\r\n      //this.options.container = helper.container;\r\n      this.num = this.list.length;\r\n\r\n      this.initStartIndex()\r\n      this.initView();\r\n\r\n      this.initEventListeners()\r\n      // Load the slide at the given index:\r\n      this.onslide(this.index)\r\n      // Manually trigger the slideend event for the initial slide:\r\n      this.ontransitionend()\r\n      // Start the automatic slideshow if applicable:\r\n      if (this.options.startSlideshow) {\r\n        this.play()\r\n      }\r\n\r\n    },\r\n\r\n    slide: function (to, speed) {\r\n      window.clearTimeout(this.timeout)\r\n      var index = this.index\r\n      var direction\r\n      var naturalDirection\r\n      var diff\r\n      if (index === to || this.num === 1) {\r\n        return\r\n      }\r\n      if (!speed) {\r\n        speed = this.options.transitionSpeed\r\n      }\r\n      if (this.support.transform) {\r\n        if (!this.options.continuous) {\r\n          to = this.circle(to)\r\n        }\r\n        // 1: backward, -1: forward:\r\n        direction = Math.abs(index - to) / (index - to)\r\n        // Get the actual position of the slide:\r\n        if (this.options.continuous) {\r\n          naturalDirection = direction\r\n          direction = -this.positions[this.circle(to)] / this.slideWidth\r\n          // If going forward but to < index, use to = slides.length + to\r\n          // If going backward but to > index, use to = -slides.length + to\r\n          if (direction !== naturalDirection) {\r\n            to = -direction * this.num + to\r\n          }\r\n        }\r\n        diff = Math.abs(index - to) - 1\r\n        // Move all the slides between index and to in the right direction:\r\n        while (diff) {\r\n          diff -= 1\r\n          this.move(\r\n            this.circle((to > index ? to : index) - diff - 1),\r\n            this.slideWidth * direction,\r\n            0\r\n          )\r\n        }\r\n        to = this.circle(to)\r\n        this.move(index, this.slideWidth * direction, speed)\r\n        this.move(to, 0, speed)\r\n        if (this.options.continuous) {\r\n          this.move(\r\n            this.circle(to - direction),\r\n            -(this.slideWidth * direction),\r\n            0\r\n          )\r\n        }\r\n      } else {\r\n        to = this.circle(to)\r\n        this.animate(index * -this.slideWidth, to * -this.slideWidth, speed)\r\n      }\r\n      this.onslide(to)\r\n    },\r\n\r\n    getIndex: function () {\r\n      return this.index\r\n    },\r\n\r\n    getNumber: function () {\r\n      return this.num\r\n    },\r\n\r\n    prev: function () {\r\n      if (this.options.continuous || this.index) {\r\n        this.slide(this.index - 1)\r\n      }\r\n    },\r\n\r\n    next: function () {\r\n      if (this.options.continuous || this.index < this.num - 1) {\r\n        this.slide(this.index + 1)\r\n      }\r\n    },\r\n\r\n    play: function (time) {\r\n      var that = this\r\n      window.clearTimeout(this.timeout)\r\n      this.interval = time || this.options.slideshowInterval\r\n      if (this.elements[this.index] > 1) {\r\n        this.timeout = this.setTimeout(\r\n          (!this.requestAnimationFrame && this.slide) ||\r\n            function (to, speed) {\r\n              that.animationFrameId = that.requestAnimationFrame.call(\r\n                window,\r\n                function () {\r\n                  that.slide(to, speed)\r\n                }\r\n              )\r\n            },\r\n          [this.index + 1, this.options.slideshowTransitionSpeed],\r\n          this.interval\r\n        )\r\n      }\r\n      this.container.addClass(this.options.playingClass)\r\n    },\r\n\r\n    pause: function () {\r\n      window.clearTimeout(this.timeout)\r\n      this.interval = null\r\n      if (this.cancelAnimationFrame) {\r\n        this.cancelAnimationFrame.call(window, this.animationFrameId)\r\n        this.animationFrameId = null\r\n      }\r\n      this.container.removeClass(this.options.playingClass)\r\n    },\r\n\r\n    add: function (list) {\r\n      var i\r\n      if (!list.concat) {\r\n        // Make a real array out of the list to add:\r\n        list = Array.prototype.slice.call(list)\r\n      }\r\n      if (!this.list.concat) {\r\n        // Make a real array out of the Gallery list:\r\n        this.list = Array.prototype.slice.call(this.list)\r\n      }\r\n      this.list = this.list.concat(list)\r\n      this.num = this.list.length\r\n      if (this.num > 2 && this.options.continuous === null) {\r\n        this.options.continuous = true\r\n        this.container.removeClass(this.options.leftEdgeClass)\r\n      }\r\n      this.container\r\n        .removeClass(this.options.rightEdgeClass)\r\n        .removeClass(this.options.singleClass)\r\n      for (i = this.num - list.length; i < this.num; i += 1) {\r\n        this.addSlide(i)\r\n        this.positionSlide(i)\r\n      }\r\n      this.positions.length = this.num\r\n      this.initSlides(true)\r\n    },\r\n\r\n    resetSlides: function () {\r\n      this.slidesContainer.empty()\r\n      this.unloadAllSlides()\r\n      this.slides = []\r\n\r\n      this.indicatorContainer.empty();\r\n      this.indicators = [];\r\n\r\n    },\r\n\r\n    handleClose: function () {\r\n      var options = this.options\r\n      if (this.activeIndicator) {\r\n         this.activeIndicator.removeClass(this.options.activeIndicatorClass)\r\n      }\r\n\r\n      this.destroyEventListeners()\r\n      // Cancel the slideshow:\r\n      this.pause()\r\n      this.container[0].style.display = 'none'\r\n      this.container\r\n        .removeClass(options.displayClass)\r\n        .removeClass(options.singleClass)\r\n        .removeClass(options.leftEdgeClass)\r\n        .removeClass(options.rightEdgeClass)\r\n      if (options.hidePageScrollbars) {\r\n        document.body.style.overflow = this.bodyOverflowStyle\r\n      }\r\n      if (this.options.clearSlides) {\r\n        this.resetSlides()\r\n      }\r\n      if (this.options.onclosed) {\r\n        this.options.onclosed.call(this)\r\n      }\r\n    },\r\n\r\n    close: function () {\r\n      var that = this\r\n      function closeHandler (event) {\r\n        if (event.target === that.container[0]) {\r\n          that.container.off(that.support.transition.end, closeHandler)\r\n          that.handleClose()\r\n        }\r\n      }\r\n      if (this.options.onclose) {\r\n        this.options.onclose.call(this)\r\n      }\r\n      if (this.support.transition && this.options.displayTransition) {\r\n        this.container.on(this.support.transition.end, closeHandler)\r\n        this.container.removeClass(this.options.displayClass)\r\n      } else {\r\n        this.handleClose()\r\n      }\r\n    },\r\n\r\n    circle: function (index) {\r\n      // Always return a number inside of the slides index range:\r\n      return (this.num + index % this.num) % this.num\r\n    },\r\n\r\n    move: function (index, dist, speed) {\r\n      this.translateX(index, dist, speed)\r\n      this.positions[index] = dist\r\n    },\r\n\r\n    translate: function (index, x, y, speed) {\r\n      var style = this.slides[index].style\r\n      var transition = this.support.transition\r\n      var transform = this.support.transform\r\n      style[transition.name + 'Duration'] = speed + 'ms'\r\n      style[transform.name] =\r\n        'translate(' +\r\n        x +\r\n        'px, ' +\r\n        y +\r\n        'px)' +\r\n        (transform.translateZ ? ' translateZ(0)' : '')\r\n    },\r\n\r\n    translateX: function (index, x, speed) {\r\n      this.translate(index, x, 0, speed)\r\n    },\r\n\r\n    translateY: function (index, y, speed) {\r\n      this.translate(index, 0, y, speed)\r\n    },\r\n\r\n    animate: function (from, to, speed) {\r\n      if (!speed) {\r\n        this.slidesContainer[0].style.left = to + 'px'\r\n        return\r\n      }\r\n      var that = this\r\n      var start = new Date().getTime()\r\n      var timer = window.setInterval(function () {\r\n        var timeElap = new Date().getTime() - start\r\n        if (timeElap > speed) {\r\n          that.slidesContainer[0].style.left = to + 'px'\r\n          that.ontransitionend()\r\n          window.clearInterval(timer)\r\n          return\r\n        }\r\n        that.slidesContainer[0].style.left =\r\n          (to - from) * (Math.floor(timeElap / speed * 100) / 100) + from + 'px'\r\n      }, 4)\r\n    },\r\n\r\n    preventDefault: function (event) {\r\n      if (event.preventDefault) {\r\n        event.preventDefault()\r\n      } else {\r\n        event.returnValue = false\r\n      }\r\n    },\r\n\r\n    stopPropagation: function (event) {\r\n      if (event.stopPropagation) {\r\n        event.stopPropagation()\r\n      } else {\r\n        event.cancelBubble = true\r\n      }\r\n    },\r\n\r\n    onresize: function () {\r\n      this.initSlides(true)\r\n    },\r\n\r\n    onmousedown: function (event) {\r\n      // Trigger on clicks of the left mouse button only\r\n      // and exclude video & audio elements:\r\n      if (\r\n        event.which &&\r\n        event.which === 1 &&\r\n        event.target.nodeName !== 'VIDEO' &&\r\n        event.target.nodeName !== 'AUDIO'\r\n      ) {\r\n        // Preventing the default mousedown action is required\r\n        // to make touch emulation work with Firefox:\r\n        event.preventDefault()\r\n        ;(event.originalEvent || event).touches = [\r\n          {\r\n            pageX: event.pageX,\r\n            pageY: event.pageY\r\n          }\r\n        ]\r\n        this.ontouchstart(event)\r\n      }\r\n    },\r\n\r\n    onmousemove: function (event) {\r\n      if (this.touchStart) {\r\n        ;(event.originalEvent || event).touches = [\r\n          {\r\n            pageX: event.pageX,\r\n            pageY: event.pageY\r\n          }\r\n        ]\r\n        this.ontouchmove(event)\r\n      }\r\n    },\r\n\r\n    onmouseup: function (event) {\r\n      if (this.touchStart) {\r\n        this.ontouchend(event)\r\n        delete this.touchStart\r\n      }\r\n    },\r\n\r\n    onmouseout: function (event) {\r\n      if (this.touchStart) {\r\n        var target = event.target\r\n        var related = event.relatedTarget\r\n        if (!related || (related !== target && !noder.contains(target, related))) {\r\n          this.onmouseup(event)\r\n        }\r\n      }\r\n    },\r\n\r\n    ontouchstart: function (event) {\r\n      if (this.options.stopTouchEventsPropagation) {\r\n        this.stopPropagation(event)\r\n      }\r\n      // jQuery doesn't copy touch event properties by default,\r\n      // so we have to access the originalEvent object:\r\n      var touches = (event.originalEvent || event).touches[0]\r\n      this.touchStart = {\r\n        // Remember the initial touch coordinates:\r\n        x: touches.pageX,\r\n        y: touches.pageY,\r\n        // Store the time to determine touch duration:\r\n        time: Date.now()\r\n      }\r\n      // Helper variable to detect scroll movement:\r\n      this.isScrolling = undefined\r\n      // Reset delta values:\r\n      this.touchDelta = {}\r\n    },\r\n\r\n    ontouchmove: function (event) {\r\n      if (this.options.stopTouchEventsPropagation) {\r\n        this.stopPropagation(event)\r\n      }\r\n      // jQuery doesn't copy touch event properties by default,\r\n      // so we have to access the originalEvent object:\r\n      var touches = (event.originalEvent || event).touches[0]\r\n      var scale = (event.originalEvent || event).scale\r\n      var index = this.index\r\n      var touchDeltaX\r\n      var indices\r\n      // Ensure this is a one touch swipe and not, e.g. a pinch:\r\n      if (touches.length > 1 || (scale && scale !== 1)) {\r\n        return\r\n      }\r\n      if (this.options.disableScroll) {\r\n        event.preventDefault()\r\n      }\r\n      // Measure change in x and y coordinates:\r\n      this.touchDelta = {\r\n        x: touches.pageX - this.touchStart.x,\r\n        y: touches.pageY - this.touchStart.y\r\n      }\r\n      touchDeltaX = this.touchDelta.x\r\n      // Detect if this is a vertical scroll movement (run only once per touch):\r\n      if (this.isScrolling === undefined) {\r\n        this.isScrolling =\r\n          this.isScrolling ||\r\n          Math.abs(touchDeltaX) < Math.abs(this.touchDelta.y)\r\n      }\r\n      if (!this.isScrolling) {\r\n        // Always prevent horizontal scroll:\r\n        event.preventDefault()\r\n        // Stop the slideshow:\r\n        window.clearTimeout(this.timeout)\r\n        if (this.options.continuous) {\r\n          indices = [this.circle(index + 1), index, this.circle(index - 1)]\r\n        } else {\r\n          // Increase resistance if first slide and sliding left\r\n          // or last slide and sliding right:\r\n          this.touchDelta.x = touchDeltaX =\r\n            touchDeltaX /\r\n            ((!index && touchDeltaX > 0) ||\r\n            (index === this.num - 1 && touchDeltaX < 0)\r\n              ? Math.abs(touchDeltaX) / this.slideWidth + 1\r\n              : 1)\r\n          indices = [index]\r\n          if (index) {\r\n            indices.push(index - 1)\r\n          }\r\n          if (index < this.num - 1) {\r\n            indices.unshift(index + 1)\r\n          }\r\n        }\r\n        while (indices.length) {\r\n          index = indices.pop()\r\n          this.translateX(index, touchDeltaX + this.positions[index], 0)\r\n        }\r\n      } else {\r\n        this.translateY(index, this.touchDelta.y + this.positions[index], 0)\r\n      }\r\n    },\r\n\r\n    ontouchend: function (event) {\r\n      if (this.options.stopTouchEventsPropagation) {\r\n        this.stopPropagation(event)\r\n      }\r\n      var index = this.index\r\n      var speed = this.options.transitionSpeed\r\n      var slideWidth = this.slideWidth\r\n      var isShortDuration = Number(Date.now() - this.touchStart.time) < 250\r\n      // Determine if slide attempt triggers next/prev slide:\r\n      var isValidSlide =\r\n        (isShortDuration && Math.abs(this.touchDelta.x) > 20) ||\r\n        Math.abs(this.touchDelta.x) > slideWidth / 2\r\n      // Determine if slide attempt is past start or end:\r\n      var isPastBounds =\r\n        (!index && this.touchDelta.x > 0) ||\r\n        (index === this.num - 1 && this.touchDelta.x < 0)\r\n      var isValidClose =\r\n        !isValidSlide &&\r\n        this.options.closeOnSwipeUpOrDown &&\r\n        ((isShortDuration && Math.abs(this.touchDelta.y) > 20) ||\r\n          Math.abs(this.touchDelta.y) > this.slideHeight / 2)\r\n      var direction\r\n      var indexForward\r\n      var indexBackward\r\n      var distanceForward\r\n      var distanceBackward\r\n      if (this.options.continuous) {\r\n        isPastBounds = false\r\n      }\r\n      // Determine direction of swipe (true: right, false: left):\r\n      direction = this.touchDelta.x < 0 ? -1 : 1\r\n      if (!this.isScrolling) {\r\n        if (isValidSlide && !isPastBounds) {\r\n          indexForward = index + direction\r\n          indexBackward = index - direction\r\n          distanceForward = slideWidth * direction\r\n          distanceBackward = -slideWidth * direction\r\n          if (this.options.continuous) {\r\n            this.move(this.circle(indexForward), distanceForward, 0)\r\n            this.move(this.circle(index - 2 * direction), distanceBackward, 0)\r\n          } else if (indexForward >= 0 && indexForward < this.num) {\r\n            this.move(indexForward, distanceForward, 0)\r\n          }\r\n          this.move(index, this.positions[index] + distanceForward, speed)\r\n          this.move(\r\n            this.circle(indexBackward),\r\n            this.positions[this.circle(indexBackward)] + distanceForward,\r\n            speed\r\n          )\r\n          index = this.circle(indexBackward)\r\n          this.onslide(index)\r\n        } else {\r\n          // Move back into position\r\n          if (this.options.continuous) {\r\n            this.move(this.circle(index - 1), -slideWidth, speed)\r\n            this.move(index, 0, speed)\r\n            this.move(this.circle(index + 1), slideWidth, speed)\r\n          } else {\r\n            if (index) {\r\n              this.move(index - 1, -slideWidth, speed)\r\n            }\r\n            this.move(index, 0, speed)\r\n            if (index < this.num - 1) {\r\n              this.move(index + 1, slideWidth, speed)\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (isValidClose) {\r\n          this.close()\r\n        } else {\r\n          // Move back into position\r\n          this.translateY(index, 0, speed)\r\n        }\r\n      }\r\n    },\r\n\r\n    ontouchcancel: function (event) {\r\n      if (this.touchStart) {\r\n        this.ontouchend(event)\r\n        delete this.touchStart\r\n      }\r\n    },\r\n\r\n    ontransitionend: function (event) {\r\n      var slide = this.slides[this.index]\r\n      if (!event || slide === event.target) {\r\n        if (this.interval) {\r\n          this.play()\r\n        }\r\n        this.setTimeout(this.options.onslideend, [this.index, slide])\r\n      }\r\n    },\r\n\r\n    oncomplete: function (event) {\r\n      var target = event.target || event.srcElement\r\n      var parent = target && target.parentNode\r\n      var index\r\n      if (!target || !parent) {\r\n        return\r\n      }\r\n      index = this.getNodeIndex(parent)\r\n      $(parent).removeClass(this.options.slideLoadingClass)\r\n      if (event.type === 'error') {\r\n        $(parent).addClass(this.options.slideErrorClass)\r\n        this.elements[index] = 3 // Fail\r\n      } else {\r\n        this.elements[index] = 2 // Done\r\n      }\r\n      // Fix for IE7's lack of support for percentage max-height:\r\n      if (target.clientHeight > this.container[0].clientHeight) {\r\n        target.style.maxHeight = this.container[0].clientHeight\r\n      }\r\n      if (this.interval && this.slides[this.index] === parent) {\r\n        this.play()\r\n      }\r\n      this.setTimeout(this.options.onslidecomplete, [index, parent])\r\n    },\r\n\r\n    onload: function (event) {\r\n      this.oncomplete(event)\r\n    },\r\n\r\n    onerror: function (event) {\r\n      this.oncomplete(event)\r\n    },\r\n\r\n    onkeydown: function (event) {\r\n      switch (event.which || event.keyCode) {\r\n        case 13: // Return\r\n          if (this.options.toggleControlsOnReturn) {\r\n            this.preventDefault(event)\r\n            this.toggleControls()\r\n          }\r\n          break\r\n        case 27: // Esc\r\n          if (this.options.closeOnEscape) {\r\n            this.close()\r\n            // prevent Esc from closing other things\r\n            event.stopImmediatePropagation()\r\n          }\r\n          break\r\n        case 32: // Space\r\n          if (this.options.toggleSlideshowOnSpace) {\r\n            this.preventDefault(event)\r\n            this.toggleSlideshow()\r\n          }\r\n          break\r\n        case 37: // Left\r\n          if (this.options.enableKeyboardNavigation) {\r\n            this.preventDefault(event)\r\n            this.prev()\r\n          }\r\n          break\r\n        case 39: // Right\r\n          if (this.options.enableKeyboardNavigation) {\r\n            this.preventDefault(event)\r\n            this.next()\r\n          }\r\n          break\r\n      }\r\n    },\r\n\r\n    handleClick: function (event) {\r\n      var options = this.options\r\n      var target = event.target || event.srcElement\r\n      var parent = target.parentNode\r\n\r\n      if (parent === this.indicatorContainer[0]) {\r\n        // Click on indicator element\r\n        this.preventDefault(event)\r\n        this.slide(this.getNodeIndex(target))\r\n      } else if (parent.parentNode === this.indicatorContainer[0]) {\r\n        // Click on indicator child element\r\n        this.preventDefault(event)\r\n        this.slide(this.getNodeIndex(parent))\r\n      } else {\r\n        function isTarget (className) {\r\n          return $(target).hasClass(className) || $(parent).hasClass(className)\r\n        }\r\n\r\n\r\n        if (isTarget(options.toggleClass)) {\r\n          // Click on \"toggle\" control\r\n          this.preventDefault(event)\r\n          this.toggleControls()\r\n        } else if (isTarget(options.prevClass)) {\r\n          // Click on \"prev\" control\r\n          this.preventDefault(event)\r\n          this.prev()\r\n        } else if (isTarget(options.nextClass)) {\r\n          // Click on \"next\" control\r\n          this.preventDefault(event)\r\n          this.next()\r\n        } else if (isTarget(options.closeClass)) {\r\n          // Click on \"close\" control\r\n          this.preventDefault(event)\r\n          this.close()\r\n        } else if (isTarget(options.playPauseClass)) {\r\n          // Click on \"play-pause\" control\r\n          this.preventDefault(event)\r\n          this.toggleSlideshow()\r\n        } else if (parent === this.slidesContainer[0]) {\r\n          // Click on slide background\r\n          if (options.closeOnSlideClick) {\r\n            this.preventDefault(event)\r\n            this.close()\r\n          } else if (options.toggleControlsOnSlideClick) {\r\n            this.preventDefault(event)\r\n            this.toggleControls()\r\n          }\r\n        } else if (\r\n          parent.parentNode &&\r\n          parent.parentNode === this.slidesContainer[0]\r\n        ) {\r\n          // Click on displayed element\r\n          if (options.toggleControlsOnSlideClick) {\r\n            this.preventDefault(event)\r\n            this.toggleControls()\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    onclick: function (event) {\r\n      if (\r\n        this.options.emulateTouchEvents &&\r\n        this.touchDelta &&\r\n        (Math.abs(this.touchDelta.x) > 20 || Math.abs(this.touchDelta.y) > 20)\r\n      ) {\r\n        delete this.touchDelta\r\n        return\r\n      }\r\n      return this.handleClick(event)\r\n    },\r\n\r\n    updateEdgeClasses: function (index) {\r\n      if (!index) {\r\n        this.container.addClass(this.options.leftEdgeClass)\r\n      } else {\r\n        this.container.removeClass(this.options.leftEdgeClass)\r\n      }\r\n      if (index === this.num - 1) {\r\n        this.container.addClass(this.options.rightEdgeClass)\r\n      } else {\r\n        this.container.removeClass(this.options.rightEdgeClass)\r\n      }\r\n    },\r\n\r\n    handleSlide: function (index) {\r\n      if (!this.options.continuous) {\r\n        this.updateEdgeClasses(index)\r\n      }\r\n      this.loadElements(index)\r\n      if (this.options.unloadElements) {\r\n        this.unloadElements(index)\r\n      }\r\n      this.setTitle(index)\r\n\r\n      this.setActiveIndicator(index)\r\n\r\n    },\r\n\r\n    onslide: function (index) {\r\n      this.index = index\r\n      this.handleSlide(index)\r\n      this.setTimeout(this.options.onslide, [index, this.slides[index]])\r\n    },\r\n\r\n    setTitle: function (index) {\r\n      var firstChild = this.slides[index].firstChild\r\n      var text = firstChild.title || firstChild.alt\r\n      var titleElement = this.titleElement\r\n      if (titleElement.length) {\r\n        this.titleElement.empty()\r\n        if (text) {\r\n          titleElement[0].appendChild(document.createTextNode(text))\r\n        }\r\n      }\r\n    },\r\n\r\n    setTimeout: function (func, args, wait) {\r\n      var that = this\r\n      return (\r\n        func &&\r\n        window.setTimeout(function () {\r\n          func.apply(that, args || [])\r\n        }, wait || 0)\r\n      )\r\n    },\r\n\r\n    createElement: function (obj, callback) {\r\n      var $item = this._create$Item(this.options.item.template,obj);\r\n      $item.find(\"img\").on('load error', callback);\r\n\r\n      $item.addClass(this.options.slideContentClass);\r\n      return $item;\r\n    },\r\n\r\n    loadElement: function (index) {\r\n      if (!this.elements[index]) {\r\n        if (this.slides[index].firstChild) {\r\n          this.elements[index] = $(this.slides[index]).hasClass(\r\n            this.options.slideErrorClass\r\n          )\r\n            ? 3\r\n            : 2\r\n        } else {\r\n          this.elements[index] = 1 // Loading\r\n          $(this.slides[index]).append(            \r\n            this.createElement(this.list[index], this.proxyListener)\r\n          );\r\n          //$(this.slides[index]).addClass(this.options.slideLoadingClass).append(            \r\n          //  this.createElement(this.list[index], this.proxyListener)\r\n          //);\r\n        }\r\n      }\r\n    },\r\n\r\n    loadElements: function (index) {\r\n      var limit = Math.min(this.num, this.options.preloadRange * 2 + 1)\r\n      var j = index\r\n      var i\r\n      for (i = 0; i < limit; i += 1) {\r\n        // First load the current slide element (0),\r\n        // then the next one (+1),\r\n        // then the previous one (-2),\r\n        // then the next after next (+2), etc.:\r\n        j += i * (i % 2 === 0 ? -1 : 1)\r\n        // Connect the ends of the list to load slide elements for\r\n        // continuous navigation:\r\n        j = this.circle(j)\r\n        this.loadElement(j)\r\n      }\r\n    },\r\n\r\n    unloadElements: function (index) {\r\n      var i, diff\r\n      for (i in this.elements) {\r\n        if (this.elements.hasOwnProperty(i)) {\r\n          diff = Math.abs(index - i)\r\n          if (\r\n            diff > this.options.preloadRange &&\r\n            diff + this.options.preloadRange < this.num\r\n          ) {\r\n            this.unloadSlide(i)\r\n            delete this.elements[i]\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n\r\n    createIndicator: function (obj) {\r\n      var repeater = this.repeater,\r\n          indicator = this.indicatorPrototype.cloneNode(false)\r\n      var title = repeater.getItemProperty(obj,\"title\")\r\n      var thumbnailProperty = this.options.thumbnailProperty\r\n      var thumbnailUrl\r\n      var thumbnail\r\n      if (this.options.thumbnailIndicators) {\r\n        if (thumbnailProperty) {\r\n          thumbnailUrl = repeater.getItemProperty(obj, thumbnailProperty)\r\n        }\r\n        if (thumbnailUrl === undefined) {\r\n          thumbnail = obj.getElementsByTagName && $(obj).find('img')[0]\r\n          if (thumbnail) {\r\n            thumbnailUrl = thumbnail.src\r\n          }\r\n        }\r\n        if (thumbnailUrl) {\r\n          indicator.style.backgroundImage = 'url(\"' + thumbnailUrl + '\")'\r\n        }\r\n      }\r\n      if (title) {\r\n        indicator.title = title;\r\n      }\r\n      return indicator;\r\n    },\r\n\r\n    addIndicator: function (index) {\r\n      if (this.indicatorContainer.length) {\r\n        var indicator = this.createIndicator(this.list[index])\r\n        indicator.setAttribute('data-index', index)\r\n        this.indicatorContainer[0].appendChild(indicator)\r\n        this.indicators.push(indicator)\r\n      }\r\n    },\r\n\r\n    setActiveIndicator: function (index) {\r\n      if (this.indicators) {\r\n        if (this.activeIndicator) {\r\n          this.activeIndicator.removeClass(this.options.activeIndicatorClass)\r\n        }\r\n        this.activeIndicator = $(this.indicators[index])\r\n        this.activeIndicator.addClass(this.options.activeIndicatorClass)\r\n      }\r\n    },\r\n\r\n\r\n    addSlide: function (index) {\r\n      var slide = this.slidePrototype.cloneNode(false)\r\n      slide.setAttribute('data-index', index)\r\n      this.slidesContainer[0].appendChild(slide)\r\n      this.slides.push(slide)\r\n\r\n      this.addIndicator(index)\r\n    },\r\n\r\n    positionSlide: function (index) {\r\n      var slide = this.slides[index]\r\n      slide.style.width = this.slideWidth + 'px'\r\n      if (this.support.transform) {\r\n        slide.style.left = index * -this.slideWidth + 'px'\r\n        this.move(\r\n          index,\r\n          this.index > index\r\n            ? -this.slideWidth\r\n            : this.index < index ? this.slideWidth : 0,\r\n          0\r\n        )\r\n      }\r\n    },\r\n\r\n    initSlides: function (reload) {\r\n      var clearSlides, i\r\n      if (!reload) {\r\n        // indicator\r\n        this.indicatorContainer = this.container.find(\r\n          this.options.indicatorContainer\r\n        )\r\n        if (this.indicatorContainer.length) {\r\n          this.indicatorPrototype = document.createElement('li')\r\n          this.indicators = this.indicatorContainer[0].children\r\n        }\r\n\r\n        this.positions = []\r\n        this.positions.length = this.num\r\n        this.elements = {}\r\n        this.imagePrototype = document.createElement('img')\r\n        this.elementPrototype = document.createElement('div')\r\n        this.slidePrototype = document.createElement('div')\r\n        $(this.slidePrototype).addClass(this.options.slideClass)\r\n        this.slides = this.slidesContainer[0].children\r\n        clearSlides =\r\n          this.options.clearSlides || this.slides.length !== this.num\r\n      }\r\n      this.slideWidth = this.container[0].clientWidth\r\n      this.slideHeight = this.container[0].clientHeight\r\n      this.slidesContainer[0].style.width = this.num * this.slideWidth + 'px'\r\n      if (clearSlides) {\r\n        this.resetSlides()\r\n      }\r\n      for (i = 0; i < this.num; i += 1) {\r\n        if (clearSlides) {\r\n          this.addSlide(i)\r\n        }\r\n        this.positionSlide(i)\r\n      }\r\n      // Reposition the slides before and after the given index:\r\n      if (this.options.continuous && this.support.transform) {\r\n        this.move(this.circle(this.index - 1), -this.slideWidth, 0)\r\n        this.move(this.circle(this.index + 1), this.slideWidth, 0)\r\n      }\r\n      if (!this.support.transform) {\r\n        this.slidesContainer[0].style.left =\r\n          this.index * -this.slideWidth + 'px'\r\n      }\r\n    },\r\n\r\n    unloadSlide: function (index) {\r\n      var slide, firstChild\r\n      slide = this.slides[index]\r\n      firstChild = slide.firstChild\r\n      if (firstChild !== null) {\r\n        slide.removeChild(firstChild)\r\n      }\r\n    },\r\n\r\n    unloadAllSlides: function () {\r\n      var i, len\r\n      for (i = 0, len = this.slides.length; i < len; i++) {\r\n        this.unloadSlide(i)\r\n      }\r\n    },\r\n\r\n    toggleControls: function () {\r\n\r\n      var controlsClass = this.options.controlsClass\r\n      if (this.container.hasClass(controlsClass)) {\r\n        this.container.removeClass(controlsClass)\r\n      } else {\r\n        this.container.addClass(controlsClass)\r\n      }\r\n    },\r\n\r\n    toggleSlideshow: function () {\r\n      if (!this.interval) {\r\n        this.play()\r\n      } else {\r\n        this.pause()\r\n      }\r\n    },\r\n\r\n    getNodeIndex: function (element) {\r\n      return parseInt(element.getAttribute('data-index'), 10)\r\n    },\r\n\r\n    initStartIndex: function () {\r\n      var repeater = this.repeater,\r\n          index = this.options.index;\r\n      var i\r\n      // Check if the index is given as a list object:\r\n      if (index && typeof index !== 'number') {\r\n        for (i = 0; i < this.num; i += 1) {\r\n          if (\r\n            this.list[i] === index || repeater.getItemUrl(this.list[i]) ===  repeater.getItemUrl(index) ) {\r\n            index = i\r\n            break\r\n          }\r\n        }\r\n      }\r\n      // Make sure the index is in the list range:\r\n      this.index = this.circle(parseInt(index, 10) || 0)\r\n    },\r\n\r\n    initEventListeners: function () {\r\n      var that = this\r\n      var slidesContainer = this.slidesContainer\r\n      function proxyListener (event) {\r\n        var type =\r\n          that.support.transition && that.support.transition.end === event.type\r\n            ? 'transitionend'\r\n            : event.type\r\n        that['on' + type](event)\r\n      }\r\n      $(window).on('resize', proxyListener)\r\n      $(document.body).on('keydown', proxyListener)\r\n      this.container.on('click', proxyListener)\r\n      if (this.support.touch) {\r\n        slidesContainer.on(\r\n          'touchstart touchmove touchend touchcancel',\r\n          proxyListener\r\n        )\r\n      } else if (this.options.emulateTouchEvents && this.support.transition) {\r\n        slidesContainer.on(\r\n          'mousedown mousemove mouseup mouseout',\r\n          proxyListener\r\n        )\r\n      }\r\n      if (this.support.transition) {\r\n        slidesContainer.on(this.support.transition.end, proxyListener)\r\n      }\r\n      this.proxyListener = proxyListener\r\n    },\r\n\r\n    destroyEventListeners: function () {\r\n      var slidesContainer = this.slidesContainer\r\n      var proxyListener = this.proxyListener\r\n      $(window).off('resize', proxyListener)\r\n      $(document.body).off('keydown', proxyListener)\r\n      this.container.off('click', proxyListener)\r\n      if (this.support.touch) {\r\n        slidesContainer.off(\r\n          'touchstart touchmove touchend touchcancel',\r\n          proxyListener\r\n        )\r\n      } else if (this.options.emulateTouchEvents && this.support.transition) {\r\n        slidesContainer.off(\r\n          'mousedown mousemove mouseup mouseout',\r\n          proxyListener\r\n        )\r\n      }\r\n      if (this.support.transition) {\r\n        slidesContainer.off(this.support.transition.end, proxyListener)\r\n      }\r\n    },\r\n\r\n    handleOpen: function () {\r\n      if (this.options.onopened) {\r\n        this.options.onopened.call(this)\r\n      }\r\n    },\r\n\r\n    initView: function () {\r\n      var that = this\r\n      function openHandler (event) {\r\n        if (event.target === that.container[0]) {\r\n          that.container.off(that.support.transition.end, openHandler)\r\n          that.handleOpen()\r\n        }\r\n      }\r\n\r\n      /*\r\n      this.container = $(this.options.container)\r\n      if (!this.container.length) {\r\n        console.log(\r\n          'blueimp Gallery: Widget container not found.',\r\n          this.options.container\r\n        )\r\n        return false\r\n      }\r\n      */\r\n\r\n      this.slidesContainer = this.container\r\n        .find(this.options.slidesContainer)\r\n        .first()\r\n      if (!this.slidesContainer.length) {\r\n        console.log(\r\n          'blueimp Gallery: Slides container not found.',\r\n          this.options.slidesContainer\r\n        )\r\n        return false\r\n      }\r\n      this.titleElement = this.container.find(this.options.titleElement).first()\r\n      if (this.num === 1) {\r\n        this.container.addClass(this.options.singleClass)\r\n      }\r\n      if (this.options.onopen) {\r\n        this.options.onopen.call(this)\r\n      }\r\n      if (this.support.transition && this.options.displayTransition) {\r\n        this.container.on(this.support.transition.end, openHandler)\r\n      } else {\r\n        this.handleOpen()\r\n      }\r\n      if (this.options.hidePageScrollbars) {\r\n        // Hide the page scrollbars:\r\n        this.bodyOverflowStyle = document.body.style.overflow\r\n        document.body.style.overflow = 'hidden'\r\n      }\r\n      this.container[0].style.display = 'block'\r\n      this.initSlides()\r\n      this.container.addClass(this.options.displayClass)\r\n    },\r\n\r\n    initOptions: function (options) {\r\n      // Create a copy of the prototype options:\r\n      this.overrided(langx.mixin({}, SliderView.prototype.options,options));\r\n\r\n      if (this.num < 3) {\r\n        // 1 or 2 slides cannot be displayed continuous,\r\n        // remember the original option by setting to null instead of false:\r\n        this.options.continuous = this.options.continuous ? null : false\r\n      }\r\n      if (!this.support.transition) {\r\n        this.options.emulateTouchEvents = false\r\n      }\r\n      if (this.options.event) {\r\n        this.preventDefault(this.options.event)\r\n      }\r\n    }\r\n  });\r\n\r\n  return views[\"slider\"] = {\r\n    \"name\" :  \"slider\",\r\n    \"ctor\" :  SliderView,\r\n    \"templates\" : {\r\n      \"default\" : '<div class=\"slides\"></div>' +\r\n                  '<h3 class=\"title\"></h3>' +\r\n                  '<a class=\"prev\">‹</a>' +\r\n                  '<a class=\"next\">›</a>' +\r\n                  '<a class=\"close\">×</a>' + \r\n                  '<a class=\"play-pause\"></a>' +\r\n                  '<ol class=\"indicator\"></ol>'\r\n\r\n    } \r\n  };\r\n\r\n});\r\n"]}