/**
 * skylark-widgets-repeater - The skylark repeater widget
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-repeater/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-browser","skylark-domx-eventer","skylark-domx-noder","skylark-domx-geom","skylark-domx-query","../views","./ViewBase"],function(e,t,i,s,n,a,r,l){var c=l.inherit({klassName:"TileView",options:{alignment:"left",infiniteScroll:!1,itemRendered:null,noItemsHTML:"no items found",selectable:!1,template:'<div class="thumbnail repeater-thumbnail"><img height="75" src="{{src}}" width="65"><span>{{name}}</span></div>'},clearSelectedItems:function(){this.repeater.$canvas.find(".repeater-tile .selectable.selected").removeClass("selected")},getSelectedItems:function(){var e=[];return this.repeater.$canvas.find(".repeater-tile .selectable.selected").each(function(){e.push(a(this))}),e},setSelectedItems:function(t,i){var s,n,r,l,c=this.options.selectable,d=this;function o(){if(l===t[s].index)return n=a(this),!1;l++}function m(){(n=a(this)).is(t[s].selector)&&p(n,t[s].selected)}function p(e,t){(t=void 0===t||t)?(i||"multi"===c||d.thumbnail_clearSelectedItems(),e.addClass("selected")):e.removeClass("selected")}for(e.isArray(t)||(t=[t]),r=!0===i||"multi"===c?t.length:c&&t.length>0?1:0,s=0;s<r;s++)void 0!==t[s].index?(n=a(),l=0,this.repeater.$canvas.find(".repeater-tile .selectable").each(o),n.length>0&&p(n,t[s].selected)):t[s].selector&&this.repeater.$canvas.find(".repeater-tile .selectable").each(m)},selected:function(){var e,t=this.options.infiniteScroll;t&&(e="object"==typeof t?t:{},this.infiniteScrolling(!0,e))},before:function(e){var t,i=this.options.alignment,s=this.repeater.$canvas.find(".repeater-tile"),n=e.data,r={};return s.length<1?(s=a('<div class="clearfix repeater-tile" data-container="true" data-infinite="true" data-preserve="shallow"></div>'),i&&"none"!==i?(i={center:1,justify:1,left:1,right:1}[i]?i:"justify",s.addClass("align-"+i),this.thumbnail_injectSpacers=!0):this.thumbnail_injectSpacers=!1,r.item=s):r.action="none",n.items&&n.items.length<1?((t=a('<div class="empty"></div>')).append(this.options.noItemsHTML),s.append(t)):s.find(".empty:first").remove(),r},renderItem:function(t){var i=this.options.selectable,s=this,n=a(function(t,i){var s=!1;function n(){var n,a,r;a=i.indexOf("{{"),n=i.indexOf("}}",a+2),a>-1&&n>-1?(r=e.trim(i.substring(a+2,n)),r=void 0!==t[r]?t[r]:"",i=i.substring(0,a)+r+i.substring(n+2)):s=!0}for(;!s&&i.search("{{")>=0;)n();return i}(t.subset[t.index],this.options.template));return n.data("item_data",t.data.items[t.index]),i&&(n.addClass("selectable"),n.on("click",function(){s.isDisabled||(n.hasClass("selected")?(n.removeClass("selected"),s.repeater.$element.trigger("deselected.lark.repeaterThumbnail",n)):("multi"!==i&&s.repeater.$canvas.find(".repeater-tile .selectable.selected").each(function(){var e=a(this);e.removeClass("selected"),s.repeater.$element.trigger("deselected.lark.repeaterThumbnail",e)}),n.addClass("selected"),s.repeater.$element.trigger("selected.lark.repeaterThumbnail",n)))})),t.container.append(n),this.thumbnail_injectSpacers&&n.after('<span class="spacer">&nbsp;</span>'),this.options.itemRendered&&this.options.itemRendered({container:t.container,item:n,itemData:t.subset[t.index]},function(){}),!1}});return r.tile={name:"tile",ctor:c},c});
//# sourceMappingURL=../sourcemaps/views/TileView.js.map
